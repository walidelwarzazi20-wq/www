<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Haki Werda 3D Fix</title>
    <style>
        body { margin: 0; background-color: #111; overflow: hidden; }
        #text { position: absolute; top: 10px; width: 100%; text-align: center; color: white; font-family: sans-serif; z-index: 100; }
        #status { position: absolute; bottom: 10px; left: 10px; color: lime; font-family: monospace; z-index: 100; }
    </style>
</head>
<body>
    <div id="text"><h1>HAKI WERDA ALWREDA</h1></div>
    <div id="status">جاري التحميل...</div>

    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>

    <script>
        window.onload = function() {
            const status = document.getElementById('status');
            
            // تأكيد اشتغال المكتبة
            if (typeof THREE === 'undefined') {
                status.innerHTML = "خطأ: لم يتم تحميل مكتبة Three.js. تأكد من الأنترنت!";
                status.style.color = "red";
                return;
            } else {
                status.innerHTML = "المكتبة جاهزة - العرض شغال";
            }

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // إضاءة قوية
            const ambient = new THREE.AmbientLight(0xffffff, 1);
            scene.add(ambient);
            const point = new THREE.PointLight(0xffffff, 1);
            point.position.set(10, 10, 10);
            scene.add(point);

            // --- صنع الوردة ---
            const flower = new THREE.Group();
            const stem = new THREE.Mesh(new THREE.CylinderGeometry(0.1, 0.1, 3), new THREE.MeshStandardMaterial({color: 0x00ff00}));
            flower.add(stem);
            
            const head = new THREE.Mesh(new THREE.TorusKnotGeometry(0.5, 0.2), new THREE.MeshStandardMaterial({color: 0xff0000}));
            head.position.y = 1.5;
            flower.add(head);
            scene.add(flower);

            // --- صنع الرجل (على شكل مكعبات باش يبان دغيا) ---
            const man = new THREE.Group();
            const body = new THREE.Mesh(new THREE.BoxGeometry(0.6, 1, 0.4), new THREE.MeshStandardMaterial({color: 0x0000ff}));
            const manHead = new THREE.Mesh(new THREE.SphereGeometry(0.3), new THREE.MeshStandardMaterial({color: 0xffcc99}));
            manHead.position.y = 0.8;
            man.add(body);
            man.add(manHead);
            scene.add(man);

            camera.position.z = 8;

            let t = 0;
            function animate() {
                requestAnimationFrame(animate);
                t += 0.05;

                // تحريك الوردة
                flower.position.x = 2;
                flower.rotation.y += 0.05;

                // تحريك الرجل (كيتمشى يمين ويسار)
                man.position.x = Math.sin(t * 0.5) * 4;
                man.position.y = Math.abs(Math.sin(t * 2)) * 0.2 - 1; // كينقز شوية
                
                renderer.render(scene, camera);
            }
            animate();
        };
    </script>
</body>
</html>
